{"is_source_file": true, "format": "JavaScript", "description": "This file provides a set of utility functions for handling DOCX templates, including parsing placeholders in transcript texts, generating dynamic schemas for forms, creating preview HTML, constructing DOCX files with background images and overlays, zipping these files into a DOCX archive, and generating overlays from form fields. It is specific to a service that processes DOCX templates and manages document layout preservation.", "external_files": ["crc32 implementation relies on internal functions, no external files referenced", "No import or require statements indicating external files apart from standard JS functions"], "external_methods": ["matchAll", "atob", "btoa"], "published": ["parseDocxTranscriptPlaceholders", "buildDynamicTemplateSchemaFromTranscript", "makeTranscriptPreviewHtml", "buildDocxWithBackgroundAndOverlays", "zipSync", "computeOverlaysFromFields"], "classes": [], "methods": [{"name": "parseDocxTranscriptPlaceholders(transcriptText, options = {})", "description": "Extracts placeholders from a plain text transcript by matching tokens within square brackets and angle brackets, normalizes their keys, infers their types based on labels, and adds standard signature placeholders if relevant.", "scope": "", "scopeKind": ""}, {"name": "buildDynamicTemplateSchemaFromTranscript(transcriptText, templateId, title)", "description": "Generates a schema for dynamic form rendering based on transcript placeholders, including signature image fields if signatures are detected.", "scope": "", "scopeKind": ""}, {"name": "makeTranscriptPreviewHtml(transcriptText)", "description": "Converts transcript text into an HTML preview by escaping HTML characters and heuristically converting certain lines into headers.", "scope": "", "scopeKind": ""}, {"name": "buildDocxWithBackgroundAndOverlays(params)", "description": "Constructs a minimal DOCX package with pages represented by background images and overlays of text positioned explicitly; also includes optional logo placement.", "scope": "", "scopeKind": ""}, {"name": "zipSync(fileMap)", "description": "Packages the files into a proper ZIP Blob representing a DOCX archive, complete with relationships, content types, and media entries.", "scope": "", "scopeKind": ""}, {"name": "computeOverlaysFromFields(fields)", "description": "Creates overlay elements with positional information from a list of form fields, simulating order-dependent Y positions and left indents.", "scope": "", "scopeKind": ""}, {"name": "addImage(name, dataUrl)", "scope": "buildDocxWithBackgroundAndOverlays", "scopeKind": "function", "description": "unavailable"}, {"name": "crc32(bytes)", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "dataUrlToBytes(dataUrl)", "scope": "buildDocxWithBackgroundAndOverlays", "scopeKind": "function", "description": "unavailable"}, {"name": "ensure(map, def)", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "escapeHtml(s)", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "escapeXml(s)", "scope": "buildDocxWithBackgroundAndOverlays", "scopeKind": "function", "description": "unavailable"}, {"name": "inferTypeFromLabel(label)", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "inlineImageXml(relId, widthPx, heightPx)", "scope": "buildDocxWithBackgroundAndOverlays", "scopeKind": "function", "description": "unavailable"}, {"name": "normalizeKey(label)", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "pxToEmu(px)", "scope": "buildDocxWithBackgroundAndOverlays", "scopeKind": "function", "description": "unavailable"}, {"name": "writeUint16(arr, pos, val)", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "writeUint32(arr, pos, val)", "scope": "", "scopeKind": "", "description": "unavailable"}], "calls": ["text.matchAll", "atob", "btoa", "escapeHtml"], "search-terms": ["parseDocxTranscriptPlaceholders", "buildDynamicTemplateSchemaFromTranscript", "makeTranscriptPreviewHtml", "buildDocxWithBackgroundAndOverlays", "zipSync", "computeOverlaysFromFields"], "state": 2, "file_id": 51, "knowledge_revision": 208, "git_revision": "0387b18be84a3c90903295e4e570bb721b484ee7", "revision_history": [{"194": ""}, {"205": "0387b18be84a3c90903295e4e570bb721b484ee7"}, {"208": "0387b18be84a3c90903295e4e570bb721b484ee7"}], "ctags": [{"_type": "tag", "name": "addImage", "path": "/home/kavia/workspace/code-generation/sow-generator-platform-17223-17232/frontend_reactjs/src/services/docxTemplateService.js", "pattern": "/^  function addImage(name, dataUrl) {$/", "language": "JavaScript", "kind": "function", "signature": "(name, dataUrl)", "scope": "buildDocxWithBackgroundAndOverlays", "scopeKind": "function"}, {"_type": "tag", "name": "auth", "path": "/home/kavia/workspace/code-generation/sow-generator-platform-17223-17232/frontend_reactjs/src/services/docxTemplateService.js", "pattern": "/^  const auth = {$/", "language": "JavaScript", "kind": "class", "scope": "buildDynamicTemplateSchemaFromTranscript", "scopeKind": "class"}, {"_type": "tag", "name": "buildDocxWithBackgroundAndOverlays", "path": "/home/kavia/workspace/code-generation/sow-generator-platform-17223-17232/frontend_reactjs/src/services/docxTemplateService.js", "pattern": "/^export function buildDocxWithBackgroundAndOverlays(params) {$/", "language": "JavaScript", "kind": "function", "signature": "(params)"}, {"_type": "tag", "name": "buildDynamicTemplateSchemaFromTranscript", "path": "/home/kavia/workspace/code-generation/sow-generator-platform-17223-17232/frontend_reactjs/src/services/docxTemplateService.js", "pattern": "/^export function buildDynamicTemplateSchemaFromTranscript(transcriptText, templateId, title) {$/", "language": "JavaScript", "kind": "function", "signature": "(transcriptText, templateId, title)"}, {"_type": "tag", "name": "computeOverlaysFromFields", "path": "/home/kavia/workspace/code-generation/sow-generator-platform-17223-17232/frontend_reactjs/src/services/docxTemplateService.js", "pattern": "/^export function computeOverlaysFromFields(fields) {$/", "language": "JavaScript", "kind": "function", "signature": "(fields)"}, {"_type": "tag", "name": "crc32", "path": "/home/kavia/workspace/code-generation/sow-generator-platform-17223-17232/frontend_reactjs/src/services/docxTemplateService.js", "pattern": "/^function crc32(bytes) {$/", "language": "JavaScript", "kind": "function", "signature": "(bytes)"}, {"_type": "tag", "name": "dataUrlToBytes", "path": "/home/kavia/workspace/code-generation/sow-generator-platform-17223-17232/frontend_reactjs/src/services/docxTemplateService.js", "pattern": "/^  function dataUrlToBytes(dataUrl) {$/", "language": "JavaScript", "kind": "function", "signature": "(dataUrl)", "scope": "buildDocxWithBackgroundAndOverlays", "scopeKind": "function"}, {"_type": "tag", "name": "ensure", "path": "/home/kavia/workspace/code-generation/sow-generator-platform-17223-17232/frontend_reactjs/src/services/docxTemplateService.js", "pattern": "/^function ensure(map, def) {$/", "language": "JavaScript", "kind": "function", "signature": "(map, def)"}, {"_type": "tag", "name": "escapeHtml", "path": "/home/kavia/workspace/code-generation/sow-generator-platform-17223-17232/frontend_reactjs/src/services/docxTemplateService.js", "pattern": "/^function escapeHtml(s) {$/", "language": "JavaScript", "kind": "function", "signature": "(s)"}, {"_type": "tag", "name": "escapeXml", "path": "/home/kavia/workspace/code-generation/sow-generator-platform-17223-17232/frontend_reactjs/src/services/docxTemplateService.js", "pattern": "/^  function escapeXml(s) {$/", "language": "JavaScript", "kind": "function", "signature": "(s)", "scope": "buildDocxWithBackgroundAndOverlays", "scopeKind": "function"}, {"_type": "tag", "name": "inferTypeFromLabel", "path": "/home/kavia/workspace/code-generation/sow-generator-platform-17223-17232/frontend_reactjs/src/services/docxTemplateService.js", "pattern": "/^function inferTypeFromLabel(label) {$/", "language": "JavaScript", "kind": "function", "signature": "(label)"}, {"_type": "tag", "name": "inlineImageXml", "path": "/home/kavia/workspace/code-generation/sow-generator-platform-17223-17232/frontend_reactjs/src/services/docxTemplateService.js", "pattern": "/^  function inlineImageXml(relId, widthPx, heightPx) {$/", "language": "JavaScript", "kind": "function", "signature": "(relId, widthPx, heightPx)", "scope": "buildDocxWithBackgroundAndOverlays", "scopeKind": "function"}, {"_type": "tag", "name": "key", "path": "/home/kavia/workspace/code-generation/sow-generator-platform-17223-17232/frontend_reactjs/src/services/docxTemplateService.js", "pattern": "/^    key: \"authorization_signatures\",$/", "language": "JavaScript", "kind": "property", "scope": "buildDynamicTemplateSchemaFromTranscript.auth", "scopeKind": "class"}, {"_type": "tag", "name": "label", "path": "/home/kavia/workspace/code-generation/sow-generator-platform-17223-17232/frontend_reactjs/src/services/docxTemplateService.js", "pattern": "/^    label: \"Authorization\",$/", "language": "JavaScript", "kind": "property", "scope": "buildDynamicTemplateSchemaFromTranscript.auth", "scopeKind": "class"}, {"_type": "tag", "name": "makeTranscriptPreviewHtml", "path": "/home/kavia/workspace/code-generation/sow-generator-platform-17223-17232/frontend_reactjs/src/services/docxTemplateService.js", "pattern": "/^export function makeTranscriptPreviewHtml(transcriptText) {$/", "language": "JavaScript", "kind": "function", "signature": "(transcriptText)"}, {"_type": "tag", "name": "normalizeKey", "path": "/home/kavia/workspace/code-generation/sow-generator-platform-17223-17232/frontend_reactjs/src/services/docxTemplateService.js", "pattern": "/^function normalizeKey(label) {$/", "language": "JavaScript", "kind": "function", "signature": "(label)"}, {"_type": "tag", "name": "parseDocxTranscriptPlaceholders", "path": "/home/kavia/workspace/code-generation/sow-generator-platform-17223-17232/frontend_reactjs/src/services/docxTemplateService.js", "pattern": "/^export function parseDocxTranscriptPlaceholders(transcriptText, options = {}) {$/", "language": "JavaScript", "kind": "function", "signature": "(transcriptText, options = {})"}, {"_type": "tag", "name": "properties", "path": "/home/kavia/workspace/code-generation/sow-generator-platform-17223-17232/frontend_reactjs/src/services/docxTemplateService.js", "pattern": "/^    properties: [],$/", "language": "JavaScript", "kind": "property", "scope": "buildDynamicTemplateSchemaFromTranscript.auth", "scopeKind": "class"}, {"_type": "tag", "name": "pxToEmu", "path": "/home/kavia/workspace/code-generation/sow-generator-platform-17223-17232/frontend_reactjs/src/services/docxTemplateService.js", "pattern": "/^  function pxToEmu(px) {$/", "language": "JavaScript", "kind": "function", "signature": "(px)", "scope": "buildDocxWithBackgroundAndOverlays", "scopeKind": "function"}, {"_type": "tag", "name": "table", "path": "/home/kavia/workspace/code-generation/sow-generator-platform-17223-17232/frontend_reactjs/src/services/docxTemplateService.js", "pattern": "/^const table = (() => {$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "type", "path": "/home/kavia/workspace/code-generation/sow-generator-platform-17223-17232/frontend_reactjs/src/services/docxTemplateService.js", "pattern": "/^    type: \"object\",$/", "language": "JavaScript", "kind": "property", "scope": "buildDynamicTemplateSchemaFromTranscript.auth", "scopeKind": "class"}, {"_type": "tag", "name": "writeUint16", "path": "/home/kavia/workspace/code-generation/sow-generator-platform-17223-17232/frontend_reactjs/src/services/docxTemplateService.js", "pattern": "/^function writeUint16(arr, pos, val) {$/", "language": "JavaScript", "kind": "function", "signature": "(arr, pos, val)"}, {"_type": "tag", "name": "writeUint32", "path": "/home/kavia/workspace/code-generation/sow-generator-platform-17223-17232/frontend_reactjs/src/services/docxTemplateService.js", "pattern": "/^function writeUint32(arr, pos, val) {$/", "language": "JavaScript", "kind": "function", "signature": "(arr, pos, val)"}, {"_type": "tag", "name": "zipSync", "path": "/home/kavia/workspace/code-generation/sow-generator-platform-17223-17232/frontend_reactjs/src/services/docxTemplateService.js", "pattern": "/^export function zipSync(fileMap) {$/", "language": "JavaScript", "kind": "function", "signature": "(fileMap)"}], "hash": "8c057fbf59a8ee00d40b5b120ed6ef98", "format-version": 4, "code-base-name": "frontend_reactjs", "filename": "frontend_reactjs/src/services/docxTemplateService.js", "fields": [{"name": "key: \"authorization_signatures\",", "scope": "buildDynamicTemplateSchemaFromTranscript.auth", "scopeKind": "class", "description": "unavailable"}, {"name": "label: \"Authorization\",", "scope": "buildDynamicTemplateSchemaFromTranscript.auth", "scopeKind": "class", "description": "unavailable"}, {"name": "properties: [],", "scope": "buildDynamicTemplateSchemaFromTranscript.auth", "scopeKind": "class", "description": "unavailable"}, {"name": "type: \"object\",", "scope": "buildDynamicTemplateSchemaFromTranscript.auth", "scopeKind": "class", "description": "unavailable"}]}